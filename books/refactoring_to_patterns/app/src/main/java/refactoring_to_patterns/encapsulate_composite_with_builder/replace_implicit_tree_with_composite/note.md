### Encapsulate Composite With Builder

빌더를 이용해 복잡한 생성과정을 캡슐화할 수 있다.

- 보통 컴포짓 패턴을 가지고 있다.
- 복잡한 생성 과정에서 발생하는 실수를 줄일 수 있다.
- 빌더 패턴을 이용하면 객체를 생성하는 클라이언트 코드와 서버 코드의 결합을 줄일 수 있다.
    - create element, create node, create parent .... → addElement  이런식으로. 대충..
    - 단단한 결합은 수정을 어렵게 만든다.
    - 이 책의 예제에서는 캡슐화덕분에 StringBuffer 최적화를 클라이언트 변경없이 달성했다.


일단 이정도 복잡하게 빌더를 만들려면 어떤 경우여야 할까?  
1. 대상 객체 만드는 과정에서 여러 뎁스의 객체에 접근 해야하고(=복잡하고),  
2. 그러한 생성이 일반적인 형태로 빈번하게 일어나는 경우 (예를들어 이름만 다르고, 여러 코드 곳곳에서 사용되는 )  
정도로 생각이 난다.

아직은 조금 모호한 느낌이다.  

앞의 replace implicit tree with composite 과의 차이점은  
1. 전자는 논리적으로 뎁스가 있지만, 코드상으로는 평면화 되어 있는 경우를 implicit tree 구조라고 부르며, 이를 TagNode 같은 형태로 바꾸는 것
2. 후자는 Tag가 또 Tag를 가져야하거나 동일한 뎁스의 Tag가 복수개 있는 등 복잡한 방식으로 생성해야하는 경우를 builder 로 해결하는 것.