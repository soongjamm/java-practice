### Replace implicit tree with composite

코드로 표현하려는 것이 트리구조이지만, 코드상으로는 암묵적인 트리구조를 가지고 있는 경우 사용한다.  
즉 트리구조를 구조가 아닌, 스트링같은 기본형 표현으로 나타내고 있는 상태를 말한다.  

이 경우 확장하기가 어려우며 코드가 장황해진다. (반복하는 코드가 많아진다.)  
새로운 표현을 하려면 메소드를 새로 하나 만들거나 하는 번거로운 일이 벌어진다.  

보통 '상속보다는 합성' 이라는 말을 많이 한다.  
이 경우도 마찬가지가 아닌가 싶다.  
리팩토링하기 전의 구조는 새로운 속성을 추가해줄 때 마다, tagWithAAA, tagWithBBB, TagWithChildAnd... 이런식으로 구조에 따라 폭발적으로 메소드가 늘어난다.  
보통 상속구조를 갖는 경우에도 새로운 정책이나 무엇을 표현하려고 하면 위의 메소드와 같은 상황이 벌어진다.

그러나 합성을 이용하면 새로운 코드를 추가하지 않고도, 클라이언트에게 확장성을 줄 수 있다.  
그 이유를 말로 어떻게 표현할 수 있을까...  

합성을 이용하면 기본틀이 되는 노드는 변하지 않게 되고, 속성은 클라이언트가 변경할 수 있게 된다.  
새로운 유형의 속성이 필요해진다면 기존의 노드에 필드를 하나만 추가해주면 된다. 그리고 그 새로운 필드에 들어갈 속성값은 역시 클라이언트가 자유롭게 변경가능하다.   
변할 수 있는 것을 클라이언트가 추가할 수 있다는 것이다.   

설명하기가 뭔가 어렵고 잘못된것같기도 한데, 다시 공부해야겠다. 합성에 대해.